<table width=100%><tr><td><a href="client.html">Previous</a></td>
<td align=right><a href="index.html">Next</a></td></tr></table>



<style type="text/css">
pre {
   margin-top:10px;
   margin-bottom:10px;
   margin-left:30px;
   font-style:italic;     
}
li {
margin-top:10px;
}
</style>

<h2>GSAC API</h2>

The GSAC Repository supports a RESTful web service API that allows a client to make site and 
file queries and get the results returned in a variety of formats.

<br>&nbsp;<p>

All of the URLS are based on the root path, e.g.: 

<pre>${fullurlroot}</pre> 

For querying sites you access:

<pre>${fullurlroot}/site/search</pre> 

For querying files you access:
<pre>${fullurlroot}/file/search</pre> 


The results can be returned in a variety of output formats using the &quot;output&quot; URL argument,  e.g.: 

<pre>${fullurlroot}/site/search?...&amp;output=site.csv</pre> 


The simplest way to see examples of this to make a 
<a href="${urlroot}/site/form">Site query</a>
or a 
<a href="${urlroot}/file/form">File query</a>.

In the result html page under Search Again -&gt; Search Links is a list
of the query results in the other formats available (e.g., CSV). 
You can just cut and paste the desired URL into your scripts.

<br>&nbsp;<p>

The <a href="${urlroot}/repository/view">Repository Information</a> page lists all of the
URL arguments  and their values for both site and file queries. 



<h3>URL Argument Types</h3>
We have tried to be flexible with how URL arguments are used. 

<ul>

<a name="string"> <li> string - There may be none, one or more of a URL string argument:
<pre>
    arg=p123&amp;arg=p456
</pre>   

Each argument may be a semi-colon delimited list of argument values:
<pre>
    arg=p123;p456
</pre>   

Wild cards are supported:
<pre>
arg=p12*  - find values that begin with
arg=*123 - find values that end with
arg=*12* - find values that contain with
</pre> 

As well as negation:
<pre>
arg=!p123
</pre> 

Also, one can specify the string search type with the &lt;arg&gt;.searchtype argument. This can take on the values:
<pre>
&lt;arg&gt;.searchtype=exact
&lt;arg&gt;.searchtype=beginswith
&lt;arg&gt;.searchtype=endswith
&lt;arg&gt;.searchtype=contains
</pre>

<a name="enumeration"> <li> enumeration - Just like the string type but without the wildcard capabilities.



<a name="boolean"> <li> boolean  - A boolean argument may be  undefined, &quot;true&quot; or &quot;false&quot;.

<a name="date_range"> <li> date_range - 
There are 2 arguments that may specified: &quot;&lt;arg&gt;.from&quot; and &quot;&lt;arg&gt;.to&quot;. There may be none, one or both of these. If specified the logic is:
<pre>
date value &ge; arg.from
date value &le; arg.to
</pre>


The date string can be any of the following forms.
See <a href="http://download.oracle.com/javase/1.4.2/docs/api/java/text/SimpleDateFormat.html">here</a> for information. 

<pre>
yyyy-doy  - year and 3 digit day of year
yyyy-MM-ddTHH:mm:ss Z
yyyyMMddTHHmmss Z
yyyy/MM/dd HH:mm:ss Z
yyyy-MM-dd HH:mm:ss Z
EEE MMM dd HH:mm:ss Z yyyy
yyyy-MM-ddTHH:mm:ss
yyyyMMddTHHmmss
yyyy/MM/dd HH:mm:ss
yyyy-MM-dd HH:mm:ss
yyyy-MM-ddTHH:mm Z
yyyyMMddTHHmm Z
yyyy/MM/dd HH:mm Z
yyyy-MM-dd HH:mm Z
yyyy-MM-ddTHH:mm
yyyyMMddTHHmm
yyyy/MM/dd HH:mm
yyyy-MM-dd HH:mm
yyyy-MM-dd
yyyy/MM/dd
yyyyMMdd
yyyy-MM
yyyyMM
yyyy/MM
yyyy
now
</pre>

If a timezone is not specified then the date/time is assumed to be in UTC.
<p>

You can also specify values that are relative to the other date:
<pre>
-1 week, +3 days, -1 month, etc.
</pre>

For example, to find the last 2 weeks of data from current time you would use:
<pre>
arg.from=-2 weeks&amp;arg.to=now
</pre>

If you wanted to search 3 days into the future:
<pre>
arg.from=now&amp;arg.to=+3 days
</pre>


<a name="number_range"> <li> number_range - 
There are 2 arguments that may specified: &quot;&lt;arg&gt;.min&quot; and &quot;&lt;arg&gt;.max&quot;. There may be none, one or both of these. If specified the logic is:
<pre>
value &ge; arg.min
value &le; arg.max
</pre>



<a name="spatial_bounds"> <li> spatial_bounds -
There are 4 arguments that may specified: 
<pre>
&lt;arg&gt;.north
&lt;arg&gt;.south
&lt;arg&gt;.east
&lt;arg&gt;.west
</pre>

The values are assumed to be in degrees north (for latitude) and degrees east (for longitude).
Not all arguments are needed. If specified the logic is:
<pre>
site location latitude &le; arg.north
site location latitude &ge; arg.south
site location longitude &le; arg.east
site location longitude &ge; arg.west
</pre> 
 



</ul>


<p>
<table width=100%><tr><td><a href="client.html">Previous</a></td>
<td align=right><a href="index.html">Next</a></td></tr></table>
